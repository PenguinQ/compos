import { Canvas, Meta, PureArgsTable, Story } from '@storybook/blocks';
import * as CheckboxStories from './Checkbox.stories';
import Checkbox from './Checkbox.vue';

<Meta title="Components/Checkbox" component={Checkbox} />

# Checkbox
To start using Checkbox, you just need to import the components, see the example below:

<div class="demo-block">
<Story of={CheckboxStories.Playground} />

```tsx
<script setup lang="ts">
import { ref } from 'vue';

import { Checkbox } from '@components';

const value = ref(false);
</script>

<template>
  <Checkbox v-model="value" />
</template>
```
</div>

## Usages
### Two-way Data Binding (v-model)
This is the **recommended** way to use Checkbox by default, by utilizing Vue two-way data binding using v-model, see the example below:

<div class="demo-block">
<Story of={CheckboxStories.UsingVModel} />

```tsx
<script setup lang="ts">
import { ref } from 'vue';

import { Checkbox } from '@components';

const checkboxValue = ref(args.modelValue);
...
..
.
</script>

<template>
  <Text margin="0 0 4px">Checkbox value: {{ args.value }}</Text>
  <Text margin="0 0 16px">Checkbox v-model: {{ checkboxValue }}</Text>
  <Checkbox v-bind="args" v-model="checkboxValue" />
</template>
```
</div>

### Non Two-way Data Binding
Or, you can use `@change` callback to manage the checkbox state, see the example below:

<div class="demo-block">
<Story of={CheckboxStories.UsingValue} />

```tsx
<script setup lang="ts">
import { ref } from 'vue';

import { Checkbox } from '@components';

const value = ref(false);

const handleChange = (e: Event) => {
  const target = e.target as HTMLInputElement;
  const checked = target.checked;

  if (checked) {
    checkboxValue.value = target.value;
  } else {
    checkboxValue.value = false;
  }
};
</script>

<template>
  <Checkbox label="Label" v-model="value" />
</template>
```
</div>

### Multiple Selection
You can also have multiple selection of Checkboxes in a single v-model value, just set the v-model value as an array and
set the every Checkboxes v-model with the same v-model, see the example below:

<div class="demo-block">
<Story of={CheckboxStories.MultipleSelection} />

```tsx
<script setup lang="ts">
import { ref } from 'vue';

import { Checkbox } from '@components';

const selected = ref([]);
</script>

<template>
  <Text margin="0 0 16px">Selected Checkboxes: {{ selected }}</Text>
  <div style="display: flex; gap: 16px;">
    <Checkbox v-model="selected" value="Kafka" label="Kafka" />
    <Checkbox v-model="selected" value="Himeko" label="Himeko" />
    <Checkbox v-model="selected" value="Natasha" label="Natasha" />
    <Checkbox v-model="selected" value="Ruan Mei" label="Ruan Mei" />
  </div>
</template>
```
</div>
